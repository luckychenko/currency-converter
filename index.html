
<!doctype html>
<html>
  <head>
    <title>ALC challenge</title>
    <style>
      
     /* form { background: #000; padding: 3px; position: fixed; bottom: 50%; width: 100%; }
      /*form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }
      form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
      #messages { list-style-type: none; margin: 0; padding: 0; }
      #messages li { padding: 5px 10px; }
      #messages li:nth-child(odd) { background: #eee; } */
    </style>
    <link rel="stylesheet" href="css/style.css"/>
	<script src="idb/lib/idb.js"></script>
	<script src="js/controller.js"></script>
	
	  
  </head>
  <body>
 
  
    <div class="form-style-5">
<form>
<fieldset>
<legend><span class="number">1</span> Currency Converter</legend>
<table class="qzNNJ">
   <tbody>
     <tr><td><input type="number" id="fromval" placeholder="Value *" value="0" onchange="exchangefrom()"></td><td class="lOIRyc"></td>
         <td><div class="J8cLR">
          <select id="from" name="field4">
            <!-- <option value="USD">US Dollars</option>
             <option value="NGN">Naira</option>
              <option value="EUR">Euro</option> -->
          </select> <div class="uWmgv">
          </div><div class="wNOBxb"></div></div>
          </td></tr>
     <tr ></tr>
     <tr><td><input type="text" id="toval" placeholder=" *" value="0" onchange="exchangeto()""></td><td class="lOIRyc"></td>
         <td><div class="J8cLR">
         <select id="to" name="field4">
            
          </select> <div class="uWmgv">
          </div><div class="wNOBxb"></div></div>
          </td></tr>
     <tr><td colspan="2">
	      <div id="summ"> </div>
<div id="msg"> </div>		  
         </td>
		 </tr>
    </tbody></table>
</fieldset>
</form>   
<!--
<fieldset>
<legend><span class="number">2</span> Additional Info</legend>
<textarea name="field3" placeholder="About Your School"></textarea>
</fieldset> -->
<div> 
Select Currency to convert to and from, The conversion works both ways and can also convert offline using your previous conversion instance.
</div> 

</div>


  </body>
</html>

<script>
	
    const control = new Controller();
    window.onload = () => {
	control._getCurrencies();
	}
	
 
	function exchangefrom() {
	let exfrom = document.getElementById('from').value;
	let exto = document.getElementById('to').value;
	let fromval = parseFloat(document.getElementById('fromval').value);
    control._getExchange(exfrom,exto,fromval,'toval');
	}
	
	
	function exchangeto() {
	let exfrom = document.getElementById('to').value;
	let exto = document.getElementById('from').value;
	let fromval = parseFloat(document.getElementById('toval').value);
    control._getExchange(exfrom,exto,fromval,'fromval');
	}
	
	
</script>